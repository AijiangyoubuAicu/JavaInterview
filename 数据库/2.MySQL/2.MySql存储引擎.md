#存储引擎
	
## InnoDB：
		
是MySql默认的事务性引擎，只有在需要它不支持的特性时，才考虑使用其他存储引擎；

InnoDB实现了
- 四个标准的隔离级别
- 默认级别是**可重复读(REPEATABLE READ)**
- 在可重复读隔离级别下，通过**多版本并发控制(MVCC)** + **Next-key
  Locking**防止**幻影读**；
- 主索引是**聚簇索引**，在索引中保存了数据，从而避免直接读取磁盘，因此对查询性能有很大的提高；
- 内部做了很多优化，包括从磁盘读取数据时采用的**可预测性读**、能够加快操作并且自动创建的**自适应哈希索引**、能够
  加速插入操作的插入索引等；
- 支持真正的**在线热备份**，其他存储引擎不支持在线热备份，要获取一致性视图需要停止对所有表的写入，而在读写混合场景下，
  停止写入可能也意味着停止读取

### MyISAM
	
设计简单，数据以紧密格式式存储。对于只读数据，或者表比较小、可以容忍修复操作，则依然可以使用它；
	
提供了大量的特性，包括压缩表、空间数据索引等；
		
- 不支持事务；
		
- 不支持行级锁，只能对整张表加锁，读取时会对需要读到的所有表加共享锁，写入时则对表加排它锁。
但在表有读取操作的同时，也可以往表中插入新的记录，这被称为并发插入(CONCURRENT INSERT)；
	
- 可以手工或者自动执行检查和修复操作，但是和事务恢复和崩溃恢复不同，可能导致一些数据丢失，而且修复操作非常慢；
		
如果指定了 DELAY_KEY_WRITE (指在表关闭之前，将对表的update操作指跟新数据到磁盘，而不更新索引到磁盘，把对索引的更改记录在内存)
选项，在每次修改执行完成时，不会立即将修改的索引数据写入磁盘，而是会写到内存中的键缓冲区，只有在清理键缓冲区或者关闭表的时候才会将对应
的索引块写入磁盘，这种方式可以极大的提高写入性能，但是在数据库或者主机崩溃时会造成索引损坏，需要执行修复操作；
	
# 存储引擎常用的命令
	
- 查看MySQL提供的所有的存储引擎
		
		SHOW ENGINES;
		
- 查看MySQL当前默认的存储引擎
		
		SHOW VARIABLES LIKE '%storage_engine%';
	
- 查看表的存储引擎
		
		SHOW TABLE STATUS LIKE "table_name";

# MyISAM和InnoDB的区别
	
MyISAM 是 MySQL 的默认数据库引擎，虽然性能极佳，而且提供了大量的特性，包括全文索引、压缩、空间函数等，但MyISAM不支持事务和行级锁，
而且最大的缺陷就是崩溃后无法安全恢复，不过，在5.5版本之后 MySQL 引入 InnoDB(事务性数据库引擎)，在5.5版本之后默认都为 InnoDB 引擎；
	
大多数时候我们使用都是 InnoDB 存储引擎，但是在某些情况下使用 MyISAM 也是合适的比如读密集的情况下(如果不介意 MyISAM 崩溃回复问题的话)
		
两者的区别：
		
- 是否支持行级锁：
  + MyISAM 只有**表级锁(table-level locking)** 
  + InnoDB 支持**行级锁(row-level locking)**和**表级锁**，默认为**行级锁**
		
- 是否支持事务和崩溃后的安全恢复
  + MyISAM 强调的是**性能**，每次查询具有原子性，其执行速度比 InnoDB
    类型更快，但是不提供事务支持
  + InnoDB
    提供**事务支持**事务，外部键等高级数据库功能，具有**事务(commit)**、**回滚(rollback)**和崩溃修复能力的事务安全型表
		
- 是否支持**外键**：
	+ MyISAM 不支持
	+ InnoDB 支持
		
- 是否支持**MVCC**：
	+ 仅 InnoDB 支持；
















